Homework 2
================
Troy Layouni
2019-09-20

**The first step is to load the tidyverse
    package**

``` r
library(tidyverse) 
```

    ## ── Attaching packages ────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.2.1     ✔ purrr   0.3.2
    ## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
    ## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
    ## ✔ readr   1.3.1     ✔ forcats 0.4.0

    ## ── Conflicts ───────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

## Question 1

Reading in the Mr. Trash Wheel data from the first excel sheet titled
“Mr. Trash Wheel” as well as:

  - Omitting non-data entries
  - Cleaning the names of variables
  - Omitting rows not including dumpster-specific data
  - Rounding the “Sports Ball” variable to the nearest integer and
    converting it to an integer variable using as.integer

<!-- end list -->

``` r
library(readxl)

trash_wheel_data = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "Mr. Trash Wheel", 
  range = "A2:N408") %>% 
  janitor::clean_names() %>%
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(sports_balls))
```

**Question 1, part 2: Reading in and cleaning precipitation data**

  - Omitting rows without data
  - Adding a year variable
  - Combining of both data on precipitation for 2017 and 2018
  - Converting the month number to a character variable for month name

Reading in and cleaning 2017 Precipitation
data

``` r
precipitation_2017_data = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    range = "A2:B14") %>% 
    janitor::clean_names() %>%
    mutate(year = 2017) 
```

Reading in and cleaning 2018 Precipitation
data

``` r
precipitation_2018_data = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>% 
    janitor::clean_names() %>%
    mutate(year = 2018)    
```

Combining precipitation data for 2017 and 2018 and creating a character
month variable

``` r
precipitation_data_full =
  bind_rows(precipitation_2017_data, precipitation_2018_data) %>% 
  mutate(month = month.name[month])
```

**Question 1, part 3: Describing the precipitation data**

The Mr. Trash Wheel dataset includes data on the contents of each
dumpster filled from 2014-2019. There is information on sports balls
collected, with a median of 8 balls in each dumpster in 2017, as well as
information on dumpster weight, averaging 3.3375269 tons per dumpster in
2018, 3.1789091 tons in 2017, 3.2272549 tons in 2016, 3.3633803 tons in
2015, and 3.2125 tons in 2014.

The data collected for precipitation in 2017 has 12 rows, one
precipitation measure for each month, and has 3 columns, one for month,
total precipitation, and year. In 2017, Baltimore, where Mr. Trash Wheel
is located received a total of 32.93 inches of precipitation. The data
collected for precipitation in 2018 also contains 12 rows, and has 3
columns, including the same information on total precipitation, month
and year for 2018. According to these data, in 2018 Baltimore received
70.33 inches of precipitation. These data were combined into one data
frame containing 24 rows, one for every month of 2017 and 2018 and 3
columns.

The mean monthly precipitation for 2017 is 2.7441667 inches (standard
deviation of 2.2229442 inches)

The mean monthly precipitation is 5.8608333 inches (standard deviation
of 3.1318233 inches).

## Question 2

**Question 2, part 1: cleaning politician party affiliation data
“pols-month” by:**

  - breaking up data variable into month, day and year
  - creating a new variable called “president”
  - removing “day” variable
  - replacing month number with month name

<!-- end list -->

``` r
political_party_data = 
read_csv(file = "./data/fivethirtyeight_datasets/pols-month.csv") %>%
  separate(mon, sep = "-", into = c("year", "month", "day")) %>% 
  mutate(president = if_else(prez_dem < 1, "gop", "dem")) %>% 
  select(-day, -prez_dem, -prez_gop) %>% 
  mutate(month = month.name[(as.integer(month))])
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

**Question 2, part 2: cleaning the stock market index data by:**

  - breaking up data variable into month, day and year
  - replacing month number with month name
  - removing “day” variable
  - organize data according to year and month
  - arrange data so that year and month are the first columns

<!-- end list -->

``` r
stock_market_data = 
read_csv(file = "./data/fivethirtyeight_datasets/snp.csv") %>%
  janitor::clean_names() %>% 
  separate(date, sep = "/", into = c("month", "day", "year")) %>% 
  select(-day, year, month, close) %>% 
  mutate(month = month.name[(as.integer(month))]) 
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

**Question 2, part 3: tidying the unemployment data by:**

  - use pivot\_longer to create a month variable and percentage of
    unemployment variable
  - clean data

<!-- end list -->

``` r
unemployment_data = 
read_csv(file = "./data/fivethirtyeight_datasets/unemployment.csv") %>%
  janitor::clean_names() %>% 
  pivot_longer(jan:dec, names_to = "month", values_to = "unemploy_percent") %>% 
  mutate(month = recode(month, "jan" = "January", "feb" = "February", "mar" = "March", "apr" = "April", "jun" = "June", "jul" = "July", "aug" = "August", "sep" = "September", "oct" = "October", "nov" = "November", "dec" = "December"))
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
# mutate(month = match(month, month.abb)) 
 # mutate(month = month.name[month]) 
```

**Question 2, part 4: Joining datasets by merging political\_party\_data
and stock\_market\_data, then merging unemployment into the result**
